function loadMapLayer(e){var o=new ol.source.Vector({url:e,format:new ol.format.GeoJSON}),n=document.getElementById("label-container");n.innerHTML="",$("#map").html("");var t=new ol.Map({layers:[new ol.layer.Tile({source:new ol.source.OSM}),new ol.layer.Vector({source:o})],renderer:"canvas",target:"map",view:new ol.View({center:[0,0],zoom:2})});t.minZoomLevel=2,"world-countries"==layer?t.getView().setZoom(2):(t.getView().setCenter(ol.proj.transform([-99.9018,41.4925],"EPSG:4326","EPSG:3857")),t.getView().setZoom(5));var a=new ol.interaction.Select;t.addInteraction(a);var r=a.getFeatures(),l=new ol.interaction.DragBox({condition:ol.events.condition.platformModifierKeyOnly});t.addInteraction(l);var i=document.getElementById("info");l.on("boxend",function(){var e=[],n=l.getGeometry().getExtent();if(o.forEachFeatureIntersectingExtent(n,function(o){r.push(o),"world-countries"==layer?e.push(o.get("name")):e.push(o.get("NAME"))}),e.length>0){var t=$("#info");$(t).find(".dialog-main").innerHTML=e.join(", "),$(t).fadeIn()}}),l.on("boxstart",function(){r.clear(),i.innerHTML="&nbsp;"}),t.on("click",function(e){r.clear(),t.forEachFeatureAtPixel(e.pixel,function(e,o){var n=$("#info");$(".dialog-main").html("sldklskkddddsd"),"world-countries"==o?($(".dialog-main").html(""),$(".selected-values").val(e.get("name"))):($(".dialog-main").html(e.get("NAME")),$(".selected-values").val(e.get("NAME"))),$(n).css("z-index",9999999),$(n).show()})})}var layer="";$(document).ready(function(){loadMapLayer("http://openlayers.org/en/v3.17.1/examples/data/geojson/countries.geojson"),$(".options").on("change",function(){layer=$(".options option:selected").val();var e=url+layer;loadMapLayer(e)})});var url="http://openlayers.org/en/v3.17.1/examples/data/geojson/countries.geojson";